
<div class="mx-2">

    <!--- CARDSSS--->
    <div class="flex bg-gray-200 p-5 rounded-lg mx-4 space-x-4">
        <div class="bg-white w-[25rem] h-[10rem] rounded-lg p-5">
            <div class="flex border-b-2 border-gray-200 w-full pb-2">
                <div class="flex justify-start space-x-2 w-full">
                    <svg width="25px" style="color: #0d6efd" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 19V16H7C5.34315 16 4 17.3431 4 19M8.8 22H16.8C17.9201 22 18.4802 22 18.908 21.782C19.2843 21.5903 19.5903 21.2843 19.782 20.908C20 20.4802 20 19.9201 20 18.8V5.2C20 4.07989 20 3.51984 19.782 3.09202C19.5903 2.71569 19.2843 2.40973 18.908 2.21799C18.4802 2 17.9201 2 16.8 2H8.8C7.11984 2 6.27976 2 5.63803 2.32698C5.07354 2.6146 4.6146 3.07354 4.32698 3.63803C4 4.27976 4 5.11984 4 6.8V17.2C4 18.8802 4 19.7202 4.32698 20.362C4.6146 20.9265 5.07354 21.3854 5.63803 21.673C6.27976 22 7.11984 22 8.8 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p class="font-bold text-xl subpixel-antialiased">Consultas</p>
                </div>
                <div class="flex justify-end w-full">
                    <svg width="25px" style="color: #c3a8a9" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 12H20M20 12L14 6M20 12L14 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
            <div class="flex  ">
                <div>
                    <p class="text-2xl font-medium mt-3 ">80</p>
                    <p class="text-gray-400 text-md w-full text-nowrap">Consultas a lo largo del día</p>
                </div>
                <canvas id="appointments-chart-dashboard" class="relative mt-10 ml-4" style="width: 360px; height: 68px;" >
                    <!----  GRAFICA ---->
                </canvas>
            </div>

        </div>
        <div class="bg-white w-[25rem] h-[10rem] rounded-lg p-5">
            <div class="flex border-b-2 border-gray-200 w-full pb-2">
                <div class="flex justify-start space-x-2 w-full">
                    <svg width="25px" style="color: #0d6efd" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.3163 19.4384C5.92462 18.0052 7.34492 17 9 17H15C16.6551 17 18.0754 18.0052 18.6837 19.4384M16 9.5C16 11.7091 14.2091 13.5 12 13.5C9.79086 13.5 8 11.7091 8 9.5C8 7.29086 9.79086 5.5 12 5.5C14.2091 5.5 16 7.29086 16 9.5ZM22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p class="font-bold text-xl subpixel-antialiased">Pacientes</p>
                </div>
                <div class="flex justify-end w-full">
                    <svg width="25px" style="color: #c3a8a9" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 12H20M20 12L14 6M20 12L14 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
            <div class="flex  ">
                <div>
                    <p class="text-2xl font-medium mt-3 ">448</p>
                    <p class="text-gray-400 text-md w-full text-nowrap">Registro Mensual de Pacientes</p>
                </div>
                <canvas id="pacients-chart-dashboard" class="relative mt-10 ml-4" style="width: 360px; height: 68px;" >
                    <!----  GRAFICA ---->
                </canvas>
            </div>

        </div>
        <div class="bg-white w-[25rem] h-[10rem] rounded-lg p-5">
            <div class="flex border-b-2 border-gray-200 w-full pb-2">
                <div class="flex justify-start space-x-2 w-full">
                    <svg width="30px" style="color: #0d6efd" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path d="M61.748 70.68h-4.914v-4.914a1.749 1.749 0 0 0-1.75-1.75h-8.649a1.75 1.75 0 0 0-1.75 1.75v4.914h-4.913a1.75 1.75 0 0 0-1.75 1.75v8.648a1.75
                    1.75 0 0 0 1.75 1.75h4.913v4.913a1.75 1.75 0 0 0 1.75 1.75h8.649a1.749 1.749 0 0 0 1.75-1.75v-4.913h4.914a1.75 1.75 0 0 0 1.75-1.75V72.43a1.75 1.75 0 0 0-1.75-1.75zM60 79.328h-4.916a1.75 1.75 0 0 0-1.75 1.75v4.913h-5.149v-4.913a1.75 1.75 0 0 0-1.75-1.75h-4.913V74.18h4.913a1.751 1.751 0 0 0 1.75-1.75v-4.914h5.149v4.914a1.751 1.751 0 0 0 1.75 1.75H60z"/><path d="M97.694 93.58H82.223V45.986a8.531 8.531 0 0 0-6.712-8.3l-1.93-.414a5.014 5.014 0 0 1-3.945-4.872v-4.633h3.975a1.75 1.75 0 0 0 1.75-1.75V14.146a1.75 1.75 0 0 0-1.75-1.75h-45.7a1.751 1.751 0 0 0-1.75 1.75v11.871a1.751 1.751 0 0 0 1.75 1.75h3.975V32.4a5.013 5.013 0 0 1-3.944 4.877l-1.931.414a8.53 8.53 0 0 0-6.712 8.3v61.129a8.5 8.5 0 0 0 8.488 8.489h45.948a8.483 8.483 0 0 0 3.379-.712 10.919 10.919 0 0 0 3.847.708h16.733a11.01 11.01 0 0 0 0-22.02zM22.8 59.924h55.923v33.66H22.8zM29.658 15.9h42.2v8.371h-42.2zm-2.917 25.208 1.93-.413a8.529 8.529 0 0 0 6.712-8.3v-4.628h30.753V32.4a8.53 8.53 0 0 0 6.713 8.3l1.929.413a5.016 5.016 0 0 1 3.945 4.878v10.433H22.8V45.986a5.015 5.015 0 0 1 3.941-4.878zM22.8 107.115V97.084h50.134a10.942 10.942 0 0 0 0 15.02h-45.15a4.994 4.994 0 0 1-4.984-4.989zm50.655-2.525a7.528 7.528 0 0 1 7.51-7.51h6.622v15.02h-6.626a7.519 7.519 0 0 1-7.51-7.51zm29.563 5.311a7.5 7.5 0 0 1-5.32 2.2h-6.615V97.08h6.611a7.517 7.517 0 0 1 5.32 12.821z"/></svg>
                    <p class="font-bold text-xl subpixel-antialiased">Utencilios</p>
                </div>
                <div class="flex justify-end w-full">
                    <svg width="25px" style="color: #c3a8a9" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 12H20M20 12L14 6M20 12L14 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
            <div class="flex  ">
                <div>
                    <p class="text-2xl font-medium mt-3 ">1528</p>
                    <p class="text-gray-400 text-md w-full text-nowrap">Equipo quirurgico Utilizado</p>
                </div>
                <canvas id="tools-chart-dashboard" class="relative mt-10 ml-4" style="width: 360px; height: 68px;" >
                    <!----  GRAFICA ---->
                </canvas>
            </div>

        </div>

    </div>

    <!--- PACIENTS TABLE && CALENDAR  -->
    <div class="mx-4 space-x-4 my-5 flex">
        <div class="rounder-lg border-2 border-gray-200 rounded-lg p-5 space-y-1 ">
            <p class="text-xl font-bold mt-3 ">Pacientes</p>
            <p class="text-md text-gray-500 ">Estos son tus pacientes más recientes</p>
            <table class="display" id="pacientsTableDs" >
                <thead>
                    <tr class="text-gray-700">
                        <th class=" p-2  bg-custom-gray rounded-tl-md ">Nombre</th>
                        <th class=" p-2  bg-custom-gray " >Telefono</th>
                        <th class=" p-2  bg-custom-gray " >Edad</th>
                        <th class=" p-2  bg-custom-gray " >Motivo De Consulta</th>
                        <th class=" p-2 bg-custom-gray  rounded-tr-md " >Detalles</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th class="p-3 text-gray-500">Iker cabeceando</th>
                        <th class="p-3 text-gray-500">Cabeceo</th>
                        <th class="p-3 text-gray-500">20</th>
                        <th class="p-3 text-gray-500">C-A-B-E-C-E-O</th>
                        <th class="p-3 text-gray-500">Ponte pilas</th>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="rounder-lg border-2 border-gray-200 rounded-lg p-5 ">

        </div>
    </div>
</div>

<script>
    $(document).ready(function() {

        $('#pacientsTableDs').DataTable({
            "order": [[0, "asc"]],
            "paging": true,
            "pageLength" : 10,
            "lengthChange": false,
            "language": { // Personalizar el texto de la interfaz
                "search": "",
                "lengthMenu": "Mostrar _MENU_ filas",
                "infoEmpty": "No hay entradas disponibles",
                // "paginate": {
                //     "first": "Primero",
                //     "last": "Último",
                //     "next": "Siguiente",
                //     "previous": "Anterior"
                // }
            },
        });
        $('.dt-search').addClass("flex justify-end m-3 p-3 ");
        $('#dt-search-3').addClass("rounded-xl rounded-principal w-72");
        $('#dt-search-20').attr('placeholder', 'Buscar...');
        $('.dataTables_filter label').contents().filter(function() {
            return this.nodeType === 3;
        }).remove();

        $('#dt-search-2').addClass("rounded-xl rounded-principal"); // input de datatables



        createChart();
    });
    var chartDashboardAppointment;
    var chartDashboardPacient;//
    var chartDashboardTool;

    function createChart() {
        var ctx = document.getElementById('appointments-chart-dashboard');
        var ctxPacients = document.getElementById('pacients-chart-dashboard');
        var ctxTools = document.getElementById('tools-chart-dashboard');

        // Si ya existe una instancia previa, la destruimos
        if (chartDashboardAppointment || chartDashboardPacient || chartDashboardTool) {
            chartDashboardAppointment.destroy();
            chartDashboardPacient.destroy();
            chartDashboardTool.destroy();
        }
        chartDashboardAppointment = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['', '', '', '', '', ''],
                datasets: [{
                    data: [50, 100, 95, 83,40 , 80],
                    backgroundColor: [
                        '#9966FF',
                        '#0d6efd',
                        '#0d6efd',
                        '#0d6efd',
                        '#0d6efd',
                        '#FF0000'
                    ]
                }]
            },options: {
                scales: {
                    y: { // Configuración para el eje y (vertical)
                        ticks: {
                            display: false, // Ocultar números
                        },
                        grid: {
                            display: false, // Ocultar líneas de la cuadrícula
                        }
                    },
                    x: { // Configuración para el eje x (horizontal)
                        grid: {
                            display: false, // Opcional: Ocultar líneas de la cuadrícula del eje x si también lo necesitas
                        }
                    }

                },
                plugins: {
                    legend: {
                        display: false, // Ocultar la leyenda
                    }
                },
                responsive: false,
                maintainAspectRatio: false
            }
        });

        chartDashboardPacient = new Chart(ctxPacients, {
            type: 'line',
            data: {
                labels: ['', '', '', ''],
                datasets: [{
                    data: [4000,1500,3330,448],
                    backgroundColor: [
                        '#9966FF',
                        '#0d6efd',
                        '#0d6efd',
                        '#FF0000'
                    ]
                }]
            },options: {
                scales: {
                    y: { // Configuración para el eje y (vertical)
                        ticks: {
                            display: false, // Ocultar números
                        },
                        grid: {
                            display: false, // Ocultar líneas de la cuadrícula
                        }
                    },
                    x: { // Configuración para el eje x (horizontal)
                        grid: {
                            display: false, // Opcional: Ocultar líneas de la cuadrícula del eje x si también lo necesitas
                        }
                    }

                },
                plugins: {
                    legend: {
                        display: false, // Ocultar la leyenda
                    }
                },
                responsive: false,
                maintainAspectRatio: false
            }
        });

        chartDashboardTool = new Chart(ctxTools, {
            type: 'line',
            data: {
                labels: ['', '', '', ''],
                datasets: [{
                    data: [231,34,830,1528],
                    backgroundColor: [
                        '#9966FF',
                        '#0d6efd',
                        '#0d6efd',
                        '#FF0000'
                    ]
                }]
            },options: {
                scales: {
                    y: { // Configuración para el eje y (vertical)
                        ticks: {
                            display: false, // Ocultar números
                        },
                        grid: {
                            display: false, // Ocultar líneas de la cuadrícula
                        }
                    },
                    x: { // Configuración para el eje x (horizontal)
                        grid: {
                            display: false, // Opcional: Ocultar líneas de la cuadrícula del eje x si también lo necesitas
                        }
                    }

                },
                plugins: {
                    legend: {
                        display: false, // Ocultar la leyenda
                    }
                },
                responsive: false,
                maintainAspectRatio: false
            }
        });
    }

</script>
